---
session:
  name: "xdeploy"
  connect: true

pane_frames: true

template:
  direction: Horizontal
  parts:
    - direction: Vertical  # part 1
      borderless: true
      split_size:
        Fixed: 1
      run:
        plugin:
          location: "zellij:tab-bar"
    - direction: Vertical # part 2
      body: true
      pane_frames: true
    - direction: Vertical # part 3
      borderless: true
      split_size:
        Fixed: 2
      run:
        plugin:
          location: "zellij:status-bar"

tabs:
  - direction: Horizontal
    name: "nixup-a64"
    parts:
      - direction: Vertical
        parts:
          - pane_name: "rpitwozero1"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpizerotwo1"]} }
          - pane_name: "rpitwozero2"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpizerotwo2"]} }
          - pane_name: "rpitwozero3"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpizerotwo3"]} }
          - pane_name: "rpithreebp1"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpithreebp1"]} }
      - direction: Vertical
        parts:
          - pane_name: "rpifour1"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpifour1"]} }
          # - pane_name: "sinkor"
          #   run: { command: {cmd: ./nixup, args: [ "deploy", "sinkor"]} }
      # - direction: Vertical
        # parts:
          # - pane_name: "pinephone"
          #   run: { command: {cmd: ./nixup, args: ["deploy", "pinephone"]} }
          # - direction: Vertical
          #   pane_name: "blueline"
          #   run: { command: {cmd: ./nixup, args: ["deploy", "blueline"]} }
          # - direction: Vertical
          #   pane_name: "enchilada"
          #   run: { command: {cmd: ./nixup, args: ["deploy", "enchilada"]} }
  - name: "nixup-x86"
    direction: Horizontal
    parts:
      - direction: Vertical
        parts:
          - pane_name: "rpizero1"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpizero1"]} }
          - pane_name: "rpizero2"
            run: { command: {cmd: ./nixup, args: ["deploy", "rpizero2"]} }
      - direction: Vertical
        parts:
          - pane_name: "slynux"
            run: { command: {cmd: ./nixup, args: ["deploy", "slynux"]} }
          - pane_name: "pelinux"
          #   run: { command: {cmd: ./nixup, args: [ "deploy", "pelinux"]} }
          # - pane_name: "jeffhyper"
            run: { command: {cmd: ./nixup, args: [ "deploy", "jeffhyper"]} }
      - direction: Vertical
        parts:
          - pane_name: "raisin"
            run: { command: {cmd: ./nixup, args: ["deploy", "raisin"]} }
          - pane_name: "xeep"
            run: { command: {cmd: ./nixup, args: ["deploy", "xeep"]} }
  - name: "nixup-summary"
    direction: Horizontal
    parts:
      - direction: Vertical
        parts:
          - pane_name: "summary"
            run: { command: {cmd: /run/current-system/sw/bin/bash, args: [ "-c", "tail -f ${NIXUP_LOGDIR}/summary.txt; sleep 100"]} }
